[gd_scene load_steps=29 format=3 uid="uid://ct7bjyj3cylxw"]

[ext_resource type="Texture2D" uid="uid://c10731jmkpson" path="res://Levels/KTLO_Frame_8_A1.png" id="1_2p7uw"]
[ext_resource type="Script" path="res://Levels/level_0_and_1.gd" id="1_k5mdf"]
[ext_resource type="Texture2D" uid="uid://dgboijdijrjt7" path="res://Levels/KTLO_Frame_2_A1.png" id="2_6hhhq"]
[ext_resource type="Texture2D" uid="uid://v4rkjpwj053v" path="res://Levels/KTLO_Frame_5_A2.png" id="2_6n20c"]
[ext_resource type="Texture2D" uid="uid://bjb3ndf7gckpp" path="res://Levels/KTLO_Frame_9_A1.png" id="2_ynljl"]
[ext_resource type="Texture2D" uid="uid://bp4g85g5n0qdf" path="res://Levels/KTLO_Frame_1_A1.png" id="3_q70bn"]
[ext_resource type="Texture2D" uid="uid://dw4h53tr6678r" path="res://Levels/KTLO_Frame_3_A1.png" id="4_spcqa"]
[ext_resource type="PackedScene" uid="uid://d2itpclivav52" path="res://Collectables/oil_can.tscn" id="5_f6tlu"]
[ext_resource type="PackedScene" uid="uid://5mo22e3ci4vu" path="res://characters/Miner/player.tscn" id="5_hotw7"]
[ext_resource type="PackedScene" uid="uid://bh2qs4252a5b6" path="res://enemies/firstEnemy/rat.tscn" id="6_ksodg"]
[ext_resource type="Texture2D" uid="uid://cbryb4lixh4ei" path="res://pixil-frame-0 (28).png" id="7_a22eg"]
[ext_resource type="PackedScene" uid="uid://c3028soe562lp" path="res://enemies/secondenemy/bat.tscn" id="8_b35xb"]
[ext_resource type="Texture2D" uid="uid://c3y0o1v1d03fu" path="res://Levels/KTLO_Frame_6_A1.png" id="8_eraft"]
[ext_resource type="Texture2D" uid="uid://bbcrqpsqr830q" path="res://Levels/KTLO_Frame_7_A1.png" id="9_1o50p"]
[ext_resource type="PackedScene" uid="uid://ugrkuhmnukym" path="res://Collectables/super_oil_can.tscn" id="14_h0hqs"]
[ext_resource type="PackedScene" uid="uid://cnc47aisa587q" path="res://Levels/lvl1/lantern.tscn" id="14_p336b"]
[ext_resource type="PackedScene" uid="uid://dfrf0d5uadrn" path="res://Levels/lvl1/pickaxe.tscn" id="15_kfu5w"]
[ext_resource type="PackedScene" uid="uid://dh820eveop7rx" path="res://Levels/lvl1/NextLevelFromLevel1To2.tscn" id="17_mir3q"]
[ext_resource type="PackedScene" uid="uid://cpxs7yjv4jm8g" path="res://Sounds/ThemeSong.tscn" id="18_2rbgw"]
[ext_resource type="FontFile" uid="uid://dql203qeyagwm" path="res://Assets/FFFFORWA.TTF" id="20_n44ri"]
[ext_resource type="Script" path="res://Assets/score_label.gd" id="21_tjefu"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_8kcol"]
polygon = PackedVector2Array(-1942.32, -2785, -1932.49, -2786, -1931.49, -2374.59, -1930.85, -2111, -1942.73, -2110)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_bm184"]
polygon = PackedVector2Array(0, -2, -23, -1, -22, 1429, 0, 1429)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_1ihf0"]
polygon = PackedVector2Array(-13, 0, -13, -8, 2443, -13, 2442, 0)

[sub_resource type="CircleShape2D" id="CircleShape2D_si0sm"]
radius = 93.02

[sub_resource type="CircleShape2D" id="CircleShape2D_3j5ih"]
radius = 73.3757

[sub_resource type="CircleShape2D" id="CircleShape2D_ixg4a"]
radius = 59.0339

[sub_resource type="RectangleShape2D" id="RectangleShape2D_btq6b"]
size = Vector2(13, 843)

[node name="Game" type="Node2D"]
script = ExtResource("1_k5mdf")

[node name="ColorRect" type="ColorRect" parent="."]
offset_left = -642.0
offset_top = -902.0
offset_right = 2997.0
offset_bottom = 2080.0
color = Color(0.12549, 0.0941176, 0.164706, 1)

[node name="Frame_8" type="Sprite2D" parent="."]
position = Vector2(1200, 1189)
scale = Vector2(1.25, 1)
texture = ExtResource("1_2p7uw")

[node name="Frame_9" type="Sprite2D" parent="."]
position = Vector2(2000, 1189)
scale = Vector2(1.25, 1)
texture = ExtResource("2_ynljl")

[node name="Frame_2" type="Sprite2D" parent="."]
position = Vector2(1200, 240)
scale = Vector2(1.25, 1)
texture = ExtResource("2_6hhhq")

[node name="Frame_3" type="Sprite2D" parent="."]
position = Vector2(2000, 240)
scale = Vector2(1.25, 1)
texture = ExtResource("4_spcqa")

[node name="Frame_1" type="Sprite2D" parent="."]
position = Vector2(400, 240)
scale = Vector2(1.25, 1)
texture = ExtResource("3_q70bn")

[node name="Frame_5" type="Sprite2D" parent="."]
position = Vector2(1200, 719)
scale = Vector2(1.25, 1)
texture = ExtResource("2_6n20c")

[node name="Frame_10" type="Sprite2D" parent="."]
position = Vector2(1200, 719)
scale = Vector2(1.25, 1)
texture = ExtResource("2_6n20c")

[node name="Frame_4" type="Sprite2D" parent="."]
position = Vector2(400, 719)
scale = Vector2(1.25, 1)
texture = ExtResource("7_a22eg")

[node name="Frame_6" type="Sprite2D" parent="."]
position = Vector2(2000, 719)
scale = Vector2(1.25, 1)
texture = ExtResource("8_eraft")

[node name="Frame_7" type="Sprite2D" parent="."]
position = Vector2(400, 1189)
scale = Vector2(1.25, 1)
texture = ExtResource("9_1o50p")

[node name="Player" parent="." instance=ExtResource("5_hotw7")]
position = Vector2(1049, 1366)

[node name="OilCan" parent="." instance=ExtResource("5_f6tlu")]
position = Vector2(1230, 731)

[node name="OilCan2" parent="." instance=ExtResource("5_f6tlu")]
position = Vector2(1548, 165)

[node name="OilCan3" parent="." instance=ExtResource("5_f6tlu")]
position = Vector2(864, 234)

[node name="FixedBug" parent="." instance=ExtResource("6_ksodg")]
position = Vector2(1496, 520)

[node name="FixedBug2" parent="." instance=ExtResource("6_ksodg")]
position = Vector2(868, 130)

[node name="bat" parent="." instance=ExtResource("8_b35xb")]
position = Vector2(44, 69)

[node name="bat2" parent="." instance=ExtResource("8_b35xb")]
position = Vector2(420, 47)

[node name="LightOccluder2D4" type="LightOccluder2D" parent="."]
position = Vector2(5542, 3548)
scale = Vector2(2.44141, 1)
occluder = SubResource("OccluderPolygon2D_8kcol")

[node name="LightOccluder2D5" type="LightOccluder2D" parent="."]
position = Vector2(6321, 3546)
scale = Vector2(2.44141, 1)
occluder = SubResource("OccluderPolygon2D_8kcol")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_bm184")

[node name="LightOccluder2D6" type="LightOccluder2D" parent="."]
position = Vector2(2423, 2)
occluder = SubResource("OccluderPolygon2D_bm184")

[node name="LightOccluder2D2" type="LightOccluder2D" parent="."]
occluder = SubResource("OccluderPolygon2D_1ihf0")

[node name="LightOccluder2D3" type="LightOccluder2D" parent="."]
position = Vector2(-9, 1437)
occluder = SubResource("OccluderPolygon2D_1ihf0")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.151276, 0.151276, 0.151276, 1)

[node name="bat3" parent="." instance=ExtResource("8_b35xb")]
position = Vector2(2323, 73)

[node name="FixedBug3" parent="." instance=ExtResource("6_ksodg")]
position = Vector2(2247, 878)

[node name="FixedBug4" parent="." instance=ExtResource("6_ksodg")]
position = Vector2(1777, 919)

[node name="OilCan4" parent="." instance=ExtResource("5_f6tlu")]
position = Vector2(332, 1040)

[node name="OilCan5" parent="." instance=ExtResource("14_h0hqs")]
position = Vector2(2061, 1136)

[node name="OilCan6" parent="." instance=ExtResource("5_f6tlu")]
position = Vector2(1957, 439)

[node name="OilCan7" parent="." instance=ExtResource("5_f6tlu")]
position = Vector2(292, 499)

[node name="FixedBug5" parent="." instance=ExtResource("6_ksodg")]
position = Vector2(782, 453)

[node name="Collisions" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collisions"]
position = Vector2(902, 379)
shape = SubResource("CircleShape2D_si0sm")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Collisions"]
position = Vector2(1474, 416)
shape = SubResource("CircleShape2D_si0sm")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Collisions"]
position = Vector2(916, 551)
shape = SubResource("CircleShape2D_3j5ih")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Collisions"]
position = Vector2(1248, 558)
shape = SubResource("CircleShape2D_3j5ih")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="Collisions"]
position = Vector2(1535, 581)
shape = SubResource("CircleShape2D_3j5ih")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="Collisions"]
position = Vector2(2062, 1023)
shape = SubResource("CircleShape2D_ixg4a")

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Collisions"]
polygon = PackedVector2Array(1856, 601, 1836, 636, 1838, 716, 1900, 798, 1972, 877, 2109, 895, 2182, 861, 2225, 795, 2201, 741, 2143, 718, 2142, 697, 2116, 684, 2093, 676, 2068, 638, 2005, 595, 1960, 582, 1913, 576)

[node name="CollisionShape2D7" type="CollisionShape2D" parent="Collisions"]
position = Vector2(798.5, 1003.5)
shape = SubResource("RectangleShape2D_btq6b")

[node name="CollisionShape2D8" type="CollisionShape2D" parent="Collisions"]
position = Vector2(1594, 1017)
shape = SubResource("RectangleShape2D_btq6b")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions"]
polygon = PackedVector2Array(-107, 1438, -10, 1095, 6, 1426, 301, 1427, 365, 1427, 378, 1371, 401, 1249, 432, 1194, 463, 1125, 486, 1073, 504, 1024, 514, 1004, 545, 984, 552, 960, 594, 956, 601, 908, 588, 861, 605, 821, 663, 779, 750, 772, 784, 696, 802, 615, 810, 583, 848, 619, 848, 676, 869, 679, 921, 642, 971, 672, 1002, 615, 1031, 695, 1058, 780, 1056, 965, 1055, 1068, 1013, 1125, 954, 1184, 939, 1291, 949, 1421, 1030, 1418, 1232, 1419, 1402, 1419, 1474, 1297, 1528, 1270, 1570, 1306, 1579, 1225, 1491, 1197, 1366, 1131, 1358, 793, 1338, 736, 1379, 651, 1430, 676, 1455, 564, 1611, 781, 1698, 797, 1725, 891, 1757, 982, 1895, 1155, 1995, 1259, 2114, 1272, 2189, 1184, 2223, 1046, 2283, 891, 2282, 691, 2180, 491, 2178, 374, 2112, 356, 2130, 283, 2175, 243, 2030, 143, 1873, 144, 1700, 83, 1482, 143, 1471, 226, 1249, 235, 1048, 224, 871, 183, 728, 98, 562, 158, 376, 149, 253, 210, 309, 293, 261, 381, 232, 516, 312, 577, 302, 753, 240, 871, 198, 1033, -33, 1077, -196, 836, -158, 131, 99, -268, 2484, -217, 2451, 851, 2450, 1197, 2372, 1276, 2399, 1429, 1593, 1448, 1048, 1437, 805, 1439, 789, 776, 790, 802, 790, 835, 791, 874, 786, 931, 790, 1253, 785, 1524, 605, 1530, 353, 1532)

[node name="Pickaxe" parent="." instance=ExtResource("15_kfu5w")]
position = Vector2(1199, 877)

[node name="Lantern" parent="." instance=ExtResource("14_p336b")]
position = Vector2(1323, 1257)

[node name="NextLevel" parent="." instance=ExtResource("17_mir3q")]
position = Vector2(105, 1166)
scale = Vector2(-1.76682, 1.89188)

[node name="ThemeSong" parent="." instance=ExtResource("18_2rbgw")]
volume_db = 2.007
max_distance = 1e+08
attenuation = 0.0883886

[node name="GameOver" type="CanvasLayer" parent="."]
unique_name_in_owner = true
layer = 5

[node name="ColorRect" type="ColorRect" parent="GameOver"]
light_mask = 1023
visibility_layer = 1023
z_index = 5
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 18.0
offset_top = 13.0
offset_right = 18.0
offset_bottom = 13.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.644531, 0.0301183, 0, 1)
metadata/_edit_use_anchors_ = true

[node name="GameOverButton" type="Button" parent="GameOver"]
unique_name_in_owner = true
z_index = 10
offset_left = 741.0
offset_top = 761.0
offset_right = 1211.0
offset_bottom = 895.0
theme_override_colors/font_color = Color(0.56665, 0.824219, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0.752941, 0, 1)
theme_override_fonts/font = ExtResource("20_n44ri")
theme_override_font_sizes/font_size = 23
toggle_mode = true
button_pressed = true
action_mode = 0
text = "Start Over"
metadata/_edit_use_anchors_ = true

[node name="Label" type="Label" parent="GameOver"]
visibility_layer = 7
z_index = 10
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -855.0
offset_top = -312.0
offset_right = 900.0
offset_bottom = 21.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("20_n44ri")
theme_override_font_sizes/font_size = 120
text = "YOUR LIGHT WENT OUT"
horizontal_alignment = 1
vertical_alignment = 1
metadata/_edit_use_anchors_ = true

[node name="ScoreLabel" type="Label" parent="GameOver"]
z_index = 20
offset_left = 700.0
offset_top = 573.0
offset_right = 787.0
offset_bottom = 588.0
scale = Vector2(6.05536, 5.66043)
theme_override_fonts/font = ExtResource("20_n44ri")
theme_override_font_sizes/font_size = 10
script = ExtResource("21_tjefu")
metadata/_edit_use_anchors_ = true

[connection signal="health_depleted" from="Player" to="." method="_on_player_health_depleted"]
